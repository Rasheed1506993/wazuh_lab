<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#2C3E50">
    Wazuh Indexer Cluster Structure
  </text>
  
  <!-- Node 1 -->
  <rect x="50" y="80" width="200" height="180" fill="#3498DB" stroke="#2C3E50" stroke-width="2" rx="10"/>
  <text x="150" y="110" text-anchor="middle" font-size="16" font-weight="bold" fill="white">
    Node 1
  </text>
  
  <!-- Shard 1 Primary -->
  <rect x="70" y="130" width="160" height="50" fill="#27AE60" stroke="#1E8449" stroke-width="2" rx="5"/>
  <text x="150" y="160" text-anchor="middle" font-size="14" fill="white">
    Primary Shard 1
  </text>
  
  <!-- Shard 2 Replica -->
  <rect x="70" y="190" width="160" height="50" fill="#E67E22" stroke="#CA6F1E" stroke-width="2" rx="5"/>
  <text x="150" y="220" text-anchor="middle" font-size="14" fill="white">
    Replica Shard 2
  </text>
  
  <!-- Node 2 -->
  <rect x="300" y="80" width="200" height="180" fill="#3498DB" stroke="#2C3E50" stroke-width="2" rx="10"/>
  <text x="400" y="110" text-anchor="middle" font-size="16" font-weight="bold" fill="white">
    Node 2
  </text>
  
  <!-- Shard 2 Primary -->
  <rect x="320" y="130" width="160" height="50" fill="#27AE60" stroke="#1E8449" stroke-width="2" rx="5"/>
  <text x="400" y="160" text-anchor="middle" font-size="14" fill="white">
    Primary Shard 2
  </text>
  
  <!-- Shard 3 Replica -->
  <rect x="320" y="190" width="160" height="50" fill="#E67E22" stroke="#CA6F1E" stroke-width="2" rx="5"/>
  <text x="400" y="220" text-anchor="middle" font-size="14" fill="white">
    Replica Shard 3
  </text>
  
  <!-- Node 3 -->
  <rect x="550" y="80" width="200" height="180" fill="#3498DB" stroke="#2C3E50" stroke-width="2" rx="10"/>
  <text x="650" y="110" text-anchor="middle" font-size="16" font-weight="bold" fill="white">
    Node 3
  </text>
  
  <!-- Shard 3 Primary -->
  <rect x="570" y="130" width="160" height="50" fill="#27AE60" stroke="#1E8449" stroke-width="2" rx="5"/>
  <text x="650" y="160" text-anchor="middle" font-size="14" fill="white">
    Primary Shard 3
  </text>
  
  <!-- Shard 1 Replica -->
  <rect x="570" y="190" width="160" height="50" fill="#E67E22" stroke="#CA6F1E" stroke-width="2" rx="5"/>
  <text x="650" y="220" text-anchor="middle" font-size="14" fill="white">
    Replica Shard 1
  </text>
  
  <!-- Data flow arrows -->
  <path d="M 150 260 L 150 300" stroke="#2C3E50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 400 260 L 400 300" stroke="#2C3E50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 650 260 L 650 300" stroke="#2C3E50" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Shared Storage Layer -->
  <rect x="50" y="320" width="700" height="80" fill="#9B59B6" stroke="#2C3E50" stroke-width="2" rx="10"/>
  <text x="400" y="365" text-anchor="middle" font-size="18" font-weight="bold" fill="white">
    Shared Storage Layer - Distributed Storage
  </text>
  
  <!-- Legend -->
  <rect x="50" y="450" width="700" height="130" fill="#ECF0F1" stroke="#2C3E50" stroke-width="2" rx="10"/>
  <text x="400" y="475" text-anchor="middle" font-size="16" font-weight="bold" fill="#2C3E50">
    Legend
  </text>
  
  <rect x="80" y="490" width="100" height="30" fill="#27AE60" stroke="#1E8449" stroke-width="2" rx="5"/>
  <text x="210" y="510" font-size="14" fill="#2C3E50">
    Primary Shard
  </text>
  
  <rect x="80" y="535" width="100" height="30" fill="#E67E22" stroke="#CA6F1E" stroke-width="2" rx="5"/>
  <text x="210" y="555" font-size="14" fill="#2C3E50">
    Replica Shard
  </text>
  
  <text x="450" y="510" font-size="13" fill="#2C3E50">
    • Provides redundancy and protection against node failure
  </text>
  <text x="450" y="535" font-size="13" fill="#2C3E50">
    • Increases processing and query capacity
  </text>
  <text x="450" y="560" font-size="13" fill="#2C3E50">
    • Achieves data distribution balance
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2C3E50"/>
    </marker>
  </defs>
</svg>